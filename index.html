<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Math Quiz Chatbot</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f0f0f0; }
    #chat { max-width:600px; margin:40px auto; background:#fff; padding:20px; border-radius:12px; }
    .bot { background:#e0f7fa; margin:10px 0; padding:10px; border-radius:8px; }
    .user { background:#c8e6c9; margin:10px 0; padding:10px; border-radius:8px; text-align:right; }
    button { margin:5px; padding:8px 16px; border:none; border-radius:8px; cursor:pointer; }
    button:hover { background:#ddd; }
  </style>
</head>
<body>
  <div id="chat">
    <h2>üìò Math Quiz Chatbot</h2>
    <div id="messages"></div>
    <div id="options"></div>
  </div>

  <script>
    // --- Full Question Bank (example, shortened here) ---
    const topics = {
      "Linear Equations": [
        { q: "Solve: 2x + 3 = 7. What is x?", options: ["1", "2", "3", "4"], answer: "2" },
        { q: "Equation of line passing through (0,0) and (1,1)?", options: ["y=x", "y=2x", "y=x+1", "x=y+1"], answer: "y=x" }
        // ... add up to 50 questions here
      ],
      "Quadratic Equations": [
        { q: "Roots of x¬≤ - 5x + 6 = 0 are?", options: ["2 & 3", "3 & 4", "1 & 6", "2 & 4"], answer: "2 & 3" }
        // ... 50 questions
      ],
      "Arithmetic Progression": [
        { q: "In AP: 2, 4, 6,... find 10th term.", options: ["18", "20", "22", "24"], answer: "20" }
        // ... 50 questions
      ],
      "Trigonometry": [
        { q: "Value of sin 30¬∞?", options: ["1/2", "‚àö3/2", "1", "0"], answer: "1/2" }
        // ... 50 questions
      ],
      "Mensuration": [
        { q: "Area of circle with radius 7?", options: ["154", "44", "49", "22"], answer: "154" }
        // ... 50 questions
      ]
    };

    let score = 0, currentTopic = null, questionIndex = 0;
    const messages = document.getElementById("messages");
    const optionsDiv = document.getElementById("options");

    function botMessage(text) {
      const div = document.createElement("div");
      div.className = "bot"; div.innerText = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }
    function userMessage(text) {
      const div = document.createElement("div");
      div.className = "user"; div.innerText = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    function startQuiz() {
      optionsDiv.innerHTML = "";
      botMessage("Choose a topic:");
      for (let t in topics) {
        const btn = document.createElement("button");
        btn.innerText = t;
        btn.onclick = () => { userMessage(t); currentTopic=t; questionIndex=0; score=0; askQuestion(); };
        optionsDiv.appendChild(btn);
      }
    }

    function askQuestion() {
      optionsDiv.innerHTML = "";
      const q = topics[currentTopic][questionIndex];
      if (!q) { botMessage(`Quiz Over! ‚úÖ Your score: ${score}/${topics[currentTopic].length}`); startQuiz(); return; }
      botMessage(q.q);
      q.options.forEach(opt=>{
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = ()=>checkAnswer(opt);
        optionsDiv.appendChild(btn);
      });
    }

    function checkAnswer(opt) {
      userMessage(opt);
      const q = topics[currentTopic][questionIndex];
      if (opt===q.answer) { botMessage("‚úÖ Correct!"); score++; }
      else botMessage(`‚ùå Wrong! Correct answer: ${q.answer}`);
      questionIndex++; setTimeout(askQuestion, 1000);
    }

    // Init
    botMessage("Hello! I‚Äôm your Math Quiz Bot ü§ñ");
    startQuiz();
  </script>
</body>
</html>
